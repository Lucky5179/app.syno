(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[444],{5771:function(e,t,a){Promise.resolve().then(a.bind(a,87748)),Promise.resolve().then(a.bind(a,7742)),Promise.resolve().then(a.bind(a,67593)),Promise.resolve().then(a.bind(a,64142))},87748:function(e,t,a){"use strict";a.d(t,{default:function(){return k}});var r=a(57437),l=a(71581),s=a(95120),o=a(35273),n=a(38923),i=a(35202),d=a(64142),c=a(50209),u=a(2265),m=a(26032),x=a(6675),p=a(45292),h=a(52456),b=a(93599),f=a(99399),v=a(28857),w=a(77063),g=a(28109),j=a(61195),y=a(22428);let Z={netValue:"$ -- --",totalSupplied:"$ -- --",totalBorrowed:"$ -- --",healthFactor:"-- --",healthFactorColor:"default",baseRewards:"$ -- --",synoRewardsPerWeek:"$ -- --",claimableRewards:"$ -- --"};function k(e){let t=(0,w.Z)(e=>e.all),a=(0,w.Z)(e=>e.totalCollaterized),{all:k}=(0,j.Z)(),{all:N}=(0,g.Z)(),{all:C}=(0,y.Z)(),{isConnected:S}=(0,o.Z)(),{activeTab:B}=(0,d.F)(),M=(0,v.Z)(e=>e.all),[I,P]=(0,u.useState)(!1),[R,T]=(0,u.useState)(!1),[E,F]=(0,u.useState)(Z);(0,u.useEffect)(()=>{if(!S){F(Z);return}P(!0)},[S]);let A=(0,u.useCallback)(()=>{if(!t.length||!M.length)return;let e={netValue:0,totalSupplied:0,totalBorrowed:0,healthFactor:"-- --",synoRewardsPerWeek:0},r=0,o=!1;t.forEach(t=>{let a=(0,c.j)({token:t,pendingTransactions:C});o=o||a.hasPendingTx;let s=t.balance,i=Number(l.bM(s.deposit.toString(),t.decimals))+a.addToSuppliedAssetBalance-a.subtractFromSuppliedAssetBalance,d=Number(l.bM(s.borrow.toString(),t.decimals))+a.addToBorrowedAssetBalance-a.subtractFromBorrowedAssetBalance,u=(0,n.G)(k,t.symbol,t.originId||t.chainId).interestRate,m=M.find(e=>e.symbol.toLowerCase()===t.symbol.toLowerCase());r+=i*m.usdValue*Number(u.apy.deposit/100)-d*m.usdValue*Number(u.apy.borrow/100),e.totalSupplied+=i*m.usdValue,e.totalBorrowed+=d*m.usdValue}),r/=52,e.netValue=e.totalSupplied-e.totalBorrowed,e.healthFactor=(0,m.hE)(a.deposit,a.borrow),e.synoRewardsPerWeek=N.map(e=>{let t=M.find(t=>t.symbol.toLowerCase()===e.symbol.toLowerCase());return 604800*e.rewardsPerSecond*t.usdValue}).reduce((e,t)=>e+t,0);let d=N.map(e=>{let t=M.find(t=>t.symbol.toLowerCase()===e.symbol.toLowerCase());return(Number(e.value)+(0,i.VU)(e))*t.usdValue}).reduce((e,t)=>e+t,0);F({netValue:e.netValue?(0,s.T)(e.netValue,!0):Z.netValue,totalSupplied:e.totalSupplied?(0,s.T)(e.totalSupplied,!0):Z.totalSupplied,totalBorrowed:e.totalBorrowed?(0,s.T)(e.totalBorrowed,!0):Z.totalBorrowed,healthFactor:"0"!==e.healthFactor?e.healthFactor:Z.healthFactor,healthFactorColor:"0"!==e.healthFactor?(0,m.bs)(e.healthFactor):Z.healthFactorColor,baseRewards:r?(0,s.T)(r):Z.baseRewards,synoRewardsPerWeek:e.synoRewardsPerWeek?(0,s.T)(e.synoRewardsPerWeek,!0):Z.synoRewardsPerWeek,claimableRewards:d?(0,s.T)(d):Z.claimableRewards}),P(!1),T(o)},[t,N,a,M,k,C]);return(0,u.useEffect)(()=>{S&&A()},[S,t,M,A]),(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(x.Z,{title:"Portfolio"}),"overview"===B&&(0,r.jsxs)(b.Z,{gridItems:4,children:[(0,r.jsx)(f.Z,{border:!1,children:(0,r.jsx)(p.Z,{header:"Net Value",hasPopover:!0,popoverContent:"net-value",body:E.netValue,bodyLoading:I})}),(0,r.jsx)(f.Z,{border:!0,children:(0,r.jsx)(p.Z,{header:"Total Supplied",body:E.totalSupplied,bodyLoading:I})}),(0,r.jsx)(f.Z,{hideBorderOnMobile:!0,border:!0,children:(0,r.jsx)(p.Z,{header:"Total Borrowed",body:E.totalBorrowed,bodyLoading:I})}),(0,r.jsx)(f.Z,{border:!0,children:(0,r.jsx)(p.Z,{header:"Health Factor",body:E.healthFactor,bodyColor:E.healthFactorColor,loaderAnimation:R,hasPopover:!0,popoverContent:"health-factor",bodyLoading:I})})]}),"rewards"===B&&(0,r.jsxs)(b.Z,{gridItems:3,children:[(0,r.jsx)(f.Z,{border:!1,children:(0,r.jsx)(p.Z,{header:"Est. Weekly Base Rewards",hasPopover:!0,popoverContent:"base-rewards",wrapHeader:!0,body:E.baseRewards,bodyLoading:I})}),(0,r.jsx)(f.Z,{border:!0,children:(0,r.jsx)(p.Z,{header:"Est. Weekly SYNO Rewards",wrapHeader:!0,body:E.synoRewardsPerWeek,bodyLoading:I})}),(0,r.jsx)(f.Z,{border:!0,children:(0,r.jsx)(p.Z,{header:"Claimable Rewards",wrapHeader:!0,body:E.claimableRewards,bodyShadow:"$ -- --"!==E.claimableRewards,bodyLoading:I})})]})]})}},7742:function(e,t,a){"use strict";a.d(t,{default:function(){return eK}});var r=a(57437),l=a(2265),s=a(77155),o=a(64142),n=a(35273),i=a(46426),d=a(66490),c=a(46537),u=a(71581),m=a(495),x=a(67170),p=a(28109),h=a(54343),b=a(28857),f=a(80644),v=a(60339),w=a(62056),g=a(73399),j=a(56032),y=a(16181),Z=a(79811),k=a(53739),N=a(87726);function C(e){let t=(0,l.useMemo)(()=>e.chainIds.map(e=>(0,v.E)(e)),[e.chainIds]);return(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"inline-flex px-[6px] py-0.5 gap-0.5 bg-white-opacity-03 rounded",children:[(0,r.jsx)(N.Z,{size:"sm",text:"Chains"}),(0,r.jsx)("div",{className:"ml-1 flex -space-x-1",children:t.map(e=>(0,r.jsx)(k.Z,{chainId:e.id,width:12},e.id))})]})})}var S=a(31298),B=a(14375),M=a(22428),I=a(50209);function P(e){let{token:t,configKey:a}=e,{all:s}=(0,M.Z)(),{addToSuppliedAssetBalance:o,subtractFromSuppliedAssetBalance:n,addToBorrowedAssetBalance:i,subtractFromBorrowedAssetBalance:d}=(0,l.useMemo)(()=>(0,I.j)({token:t,pendingTransactions:s}),[t,s]);return(0,l.useMemo)(()=>"supplied"===a&&(o||n)>0||"borrowed"===a&&(i||d)>0,[o,n,i,d,a])?(0,r.jsx)("div",{className:"absolute p-0.5 shadow-md -top-1 -left-2 bg-background rounded-full border border-border-color",children:(0,r.jsx)(B.Z,{size:"medium"})}):null}function R(e){var t;let{token:a,chains:l,isParent:s,showNative:o,configKey:n}=e,i=a;o&&(i={...a,...(0,w.F)(i)});let d=(0,v.E)(null!==(t=i.originId)&&void 0!==t?t:i.chainId);return(0,r.jsx)(y.Z,{spacing:"tight",children:(0,r.jsx)("div",{className:s?"":"pl-3",children:(0,r.jsxs)(j.Z,{hasMobile:!0,showNative:o,token:i,size:s?36:24,children:[(0,r.jsx)(P,{token:i,configKey:n}),(0,r.jsx)(g.Z,{text:i.symbol}),i.crossChain?(0,r.jsx)("div",{className:"flex justify-center items-center pl-[6px] pr-[4px] gap-1 bg-white-opacity-03 rounded",children:(0,r.jsx)(S.Z,{})}):(null==l?void 0:l.length)?(0,r.jsx)(C,{chainIds:l}):(0,r.jsx)(Z.Z,{chainId:d.id})]})})})}var T=a(84889),E=a(95120);function F(e){let t=(0,l.useMemo)(()=>(0,T.u)(e.amount,{maxDecimals:2,showZeroApproximation:!0}),[e.amount]),a=(0,l.useMemo)(()=>(0,E.T)(e.value),[e.value]);return(0,r.jsx)(y.Z,{width:"74",minWidth:"74",align:"right",spacing:"tight",children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(g.Z,{text:t,size:"sm"}),(0,r.jsx)(N.Z,{text:a,size:"sm"})]})})}var A=a(57570),L=a(19621),W=a(54422),V=a(15766),z=a(81153),O=a(65845);function H(e){let{reward:t}=e,a=null,{walletProvider:s}=(0,n.Z)(),{changeModalState:o}=(0,z.Z)(),{isSwitchingChain:i,handleSwitchNetwork:d,isProperChain:c}=(0,L.o)(t.chainId),{addNotification:u,changeNotificationState:m}=(0,O.Z)(),{add:x}=(0,M.Z)(),[p,h]=(0,l.useState)(!1),b=async()=>{try{if(h(!0),t.hasLockFeature){o(A.t.ClaimRewards,!0,t);return}let{signer:e}=await (0,W.z)(s);await t.claim(e,u,m,x)}catch(e){console.error(e)}finally{h(!1)}},f=(0,l.useMemo)(()=>BigInt(t.amount)===BigInt(0),[t.amount]);return a=(0,r.jsx)(V.Z,{width:96,isDisabled:f,isLoading:p,text:"Claim",onClick:b}),c||(a=(0,r.jsx)(V.Z,{width:96,text:"Switch Network",isDisabled:i,onClick:d})),(0,r.jsx)(y.Z,{minWidth:"140",spacing:"tight",children:(0,r.jsx)("div",{className:"flex gap-1 justify-end w-full",children:a})})}var K=a(35202);function Y(e){let{token:t,config:a,configKey:s}=e,{getSinglePrice:o}=(0,b.Z)(),n=e=>a.find(t=>t.component===e),[i,d]=(0,l.useState)(()=>t.value+(0,K.VU)(t)),c=(0,l.useMemo)(()=>Number(i)*o(t.symbol).usdValue,[i,t.symbol,o]);return(0,l.useEffect)(()=>{if(t.rewardsPerSecond>=.01){let e=setInterval(()=>{d(t.value+(0,K.VU)(t))},1e4);return()=>clearInterval(e)}},[t,t.value,t.timestamp,t.rewardsPerSecond]),(0,r.jsxs)(f.Z,{lastChild:!1,isParent:!0,active:!1,height:"h-[72px]",children:[n("AssetCell")&&(0,r.jsx)(R,{showNative:!1,isParent:!0,token:t,configKey:s}),n("RewardAmountCell")&&(0,r.jsx)(F,{amount:i,value:c}),n("ClaimRewardsCell")&&(0,r.jsx)(H,{reward:t})]})}var D=a(15947),$=a(44942);function U(){let e=(0,l.useMemo)(()=>m.tm,[]),{all:t}=(0,p.Z)(),{all:a}=(0,b.Z)(),[s,o]=(0,l.useState)(e.defaultSortKey),[n,i]=(0,l.useState)("desc"),d=(0,l.useMemo)(()=>s&&"none"!==n?null==t?void 0:t.sort((e,t)=>_(e,t,s,n,a)):t,[t,s,n,a]);return(0,r.jsxs)(x.Z,{overflow:"auto",children:[(0,r.jsx)(D.Z,{onClick:e=>{if(e.key===s)"none"===n?i("asc"):"asc"===n?i("desc"):i("asc");else{var t;o(null!==(t=null==e?void 0:e.key)&&void 0!==t?t:null),i("desc")}},sortKey:s,sortDirection:n,configKey:e.key,config:e.header}),(0,r.jsx)($.Z,{cols:e.header.length}),(0,r.jsx)(h.Z,{children:d.map((t,a)=>{var l;return(0,r.jsx)(Y,{token:t,config:e.body,configKey:e.key},(null!==(l=e.key)&&void 0!==l?l:"")+"-"+t.address+"-"+a)})})]})}let _=(e,t,a,r,l)=>{let s=0,o=0;if("reward-amount"===a){var n,i;let a=(null===(n=l.find(t=>t.symbol.toLowerCase()===e.symbol.toLowerCase()))||void 0===n?void 0:n.usdValue)||0,r=(null===(i=l.find(e=>e.symbol.toLowerCase()===t.symbol.toLowerCase()))||void 0===i?void 0:i.usdValue)||0;s=Number(u.bM(e.amount,e.decimals))*a,o=Number(u.bM(t.amount,t.decimals))*r}return"asc"===r?s-o:o-s};function q(){return(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(c.Z,{text:"Claimable Rewards"}),(0,r.jsx)(U,{})]})}var G=a(75800),Q=a(87138),X=a(78336),J=a(67107),ee=a(38446);function et(){return(0,r.jsx)(Q.default,{href:"".concat(X.gh[X.T3.SYNO],"?activeTab=sSYNO"),children:(0,r.jsx)(G.Z,{className:"p-6 flex flex-col items-center justify-center transition group",children:(0,r.jsxs)("div",{className:"min-h-[200px] max-w-[360px] flex flex-col items-center justify-center gap-4",children:[(0,r.jsxs)("header",{className:"flex items-center justify-center gap-1 transition ",children:[(0,r.jsx)(g.Z,{text:"Stake SYNO to earn",size:"lg"}),(0,r.jsx)(g.Z,{text:"Additional Rewards",size:"lg",color:"light-blue"}),(0,r.jsxs)("div",{className:"flex relative w-6 h-6",children:[(0,r.jsx)("svg",{className:"absolute left-0 top-0 group-hover:opacity-0",width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M9.5 18L15.5 12L9.5 6",stroke:"#8EBFDB",strokeWidth:"1.25",strokeLinecap:"square"})}),(0,r.jsx)("svg",{className:"absolute left-0 top-0 opacity-0 group-hover:opacity-100",width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M9.5 18L15.5 12L9.5 6",stroke:"#FCFCFC",strokeWidth:"1.25",strokeLinecap:"square"})})]})]}),(0,r.jsx)(J.Z,{fromToken:ee.jT.symbol,toToken:ee.IQ.symbol}),(0,r.jsx)(g.Z,{wrap:!0,text:"Stake SYNO for Staked SYNO (sSYNO) to earn protocol fees and staking rewards that come from our suite of products. ",size:"xs"}),(0,r.jsx)(N.Z,{text:"Note that sSYNO also accrues governing power that can be used to direct the development of SYNO DAO.",color:"light-blue",wrap:!0})]})})})}function ea(){return(0,r.jsxs)("div",{className:"flex flex-col gap-6 lg:grid-cols-5 lg:grid",children:[(0,r.jsx)("div",{className:"lg:col-span-3",children:(0,r.jsx)(q,{})}),(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsx)(et,{})})]})}var er=a(87439);let el=(0,a(57818).default)(()=>Promise.all([a.e(400),a.e(649),a.e(91)]).then(a.bind(a,32091)),{loadableGenerated:{webpack:()=>[32091]}});function es(e){let{apy:t,isMaxValue:a,token:l,type:s}=e;return(0,r.jsx)(y.Z,{width:"88",minWidth:"88",align:"right",spacing:"tight",children:l&&(0,r.jsx)(el,{type:s,token:l,children:(0,r.jsx)(er.Z,{color:t>0?"green":t<0?"orange":"default",value:t,isMaxValue:a})})})}var eo=a(67035),en=a(93083),ei=a(16463);function ed(e){let{toggleExpand:t,expandable:a,isExpanded:s,isParent:o,type:n,token:i}=e,{changeModalState:d}=(0,z.Z)(),c=(0,ei.useRouter)();(0,ei.usePathname)();let u=(0,l.useCallback)(e=>{c.push((0,eo.H)(i,e))},[i,c]),m=(0,l.useCallback)(e=>{if(o&&a&&t){t();return}d(A.t.AssetManager,!0);let{pathname:r,search:l}=window.location;if(!r||!l)return;let s="".concat(r).concat(l),n=(0,eo._)(s,i,e);c.push(n)},[a,o,t,d,i,c]),x=(0,l.useMemo)(()=>"148",[]),p=null;return"supplied"===n&&(p=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V.Z,{text:"Supply",onClick:()=>m(en.i.Supply)}),(0,r.jsx)(V.Z,{text:"Withdraw",onClick:()=>m(en.i.Withdraw)})]})),"toSupply"===n&&(p=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V.Z,{text:"Supply",isExpanded:s,expandable:o&&a,onClick:()=>m(en.i.Supply)}),(0,r.jsx)(V.Z,{text:"Details",onClick:()=>u(en.i.Supply)})]})),"borrowed"===n&&(p=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V.Z,{text:"Borrow",onClick:()=>m(en.i.Borrow)}),(0,r.jsx)(V.Z,{text:"Repay",onClick:()=>m(en.i.Repay)})]})),"toBorrow"===n&&(p=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V.Z,{text:"Borrow",isExpanded:s,expandable:o&&a,onClick:()=>m(en.i.Borrow)}),(0,r.jsx)(V.Z,{text:"Details",onClick:()=>u(en.i.Borrow)})]})),(0,r.jsx)(y.Z,{minWidth:x,width:x,spacing:"tight",children:(0,r.jsx)("div",{className:"flex gap-1 justify-end w-full",children:p})})}function ec(e){var t,a;let l,{token:s,isParent:o,isExpanded:n,expandable:i,config:d,lastChild:c,configKey:m,handleRowClick:x}=e,p=e=>d.find(t=>t.component===e),h=s.interestRate.apy,b=Number(s.walletBalance),v=s.price?b*s.price:0;try{l=BigInt(Math.floor(Number(s.available)))}catch(e){console.error("Failed to convert token.available to bigint:",e),l=0n}let w=l*BigInt(10**s.decimals)/BigInt(10**s.decimals),g=Number(u.bM(w,s.decimals)),j=s.price?g*s.price:0;return(0,r.jsxs)(f.Z,{lastChild:c,isParent:o,active:n,height:"h-[72px]",onClick:i?x:void 0,children:[p("AssetCell")&&(0,r.jsx)(R,{isParent:o,chains:s.chains,token:s,configKey:m}),p("AvailableCell")&&(0,r.jsx)(F,{amount:g,value:j}),p("WalletBalanceCell")&&(0,r.jsx)(F,{amount:b,value:v}),p("SupplyApyCell")&&(0,r.jsx)(es,{token:s,type:"deposit",isMaxValue:o&&i,apy:null!==(t=null==h?void 0:h.deposit)&&void 0!==t?t:0}),p("BorrowApyCell")&&(0,r.jsx)(es,{token:s,type:"borrow",isMaxValue:o&&i,apy:null!==(a=null==h?void 0:h.borrow)&&void 0!==a?a:0}),p("ActionCell")&&(0,r.jsx)(ed,{toggleExpand:x,isParent:o,isExpanded:n,expandable:i,token:s,type:m})]},m+"-"+s.address+s.originId)}function eu(e){var t,a;let{token:l,config:s,configKey:o}=e,n=e=>s.find(t=>t.component===e),i=l.interestRate.apy,d=Number(u.bM(l.balance.deposit,l.decimals)),c=l.price?d*l.price:0,m=Number(u.bM(l.balance.borrow,l.decimals)),x=l.price?m*l.price:0;return(0,r.jsxs)(f.Z,{lastChild:!1,isParent:!0,active:!1,height:"h-[72px]",children:[n("AssetCell")&&(0,r.jsx)(R,{showNative:!0,isParent:!0,token:l,configKey:o}),n("DepositAmountCell")&&(0,r.jsx)(F,{amount:d,value:c}),n("BorrowAmountCell")&&(0,r.jsx)(F,{amount:m,value:x}),n("SupplyApyCell")&&(0,r.jsx)(es,{type:"deposit",token:l,apy:null!==(t=null==i?void 0:i.deposit)&&void 0!==t?t:0}),n("BorrowApyCell")&&(0,r.jsx)(es,{type:"borrow",token:l,apy:null!==(a=null==i?void 0:i.borrow)&&void 0!==a?a:0}),n("ActionCell")&&(0,r.jsx)(ed,{isParent:!1,token:l,type:o})]})}function em(e){let{config:t,items:a,groups:s,configKey:o}=e,[n,i]=(0,l.useState)([]),d=(0,l.useCallback)(e=>n.includes(e),[n]),c=(0,l.useCallback)(e=>{i(t=>d(e)?t.filter(t=>t!==e):[...t,e])},[d]);return(null==a?void 0:a.length)?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(h.Z,{children:a.map((e,a)=>(0,r.jsx)(eu,{token:e,config:t,configKey:o},(null!=o?o:"")+"-"+e.address+"-"+a))})}):(null==s?void 0:s.length)?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(h.Z,{children:s.map((e,a)=>{var n;return(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(ec,{token:e,isExpanded:d(e.name),isParent:!0,expandable:e.tokens.length>1,handleRowClick:()=>c(e.name),lastChild:a===s.length-1,config:t,configKey:o},(null!=o?o:"")+"-"+e.address+"-"+a),d(e.name)&&(null===(n=e.tokens)||void 0===n?void 0:n.map((a,l)=>(0,r.jsx)(ec,{token:a,expandable:!1,isExpanded:d(e.name),isParent:!1,handleRowClick:()=>{},lastChild:l===e.tokens.length-1,config:t,configKey:o},"".concat(e.name,"-").concat(l,"-").concat(a.address,"-").concat(l))))]},"".concat(o,"-").concat(e.symbol))})})}):null}function ex(e){let{config:t,items:a,groups:s}=e,o=(0,l.useMemo)(()=>t,[t]),[n,i]=(0,l.useState)(o.defaultSortKey),[d,c]=(0,l.useState)("desc"),u=(0,l.useMemo)(()=>n&&"none"!==d?null==a?void 0:a.sort((e,t)=>ep(e,t,n,d)):a,[a,n,d]),m=(0,l.useMemo)(()=>n&&"none"!==d?null==s?void 0:s.sort((e,t)=>ep(e,t,n,d)).map(e=>{let t=e.tokens.sort((e,t)=>ep(e,t,n,d));return{...e,tokens:t}}):s,[s,n,d]);return(0,r.jsxs)(x.Z,{overflow:"auto",children:[(0,r.jsx)(D.Z,{onClick:e=>{if(e.key===n)"none"===d?c("asc"):"asc"===d?c("desc"):c("asc");else{var t;i(null!==(t=null==e?void 0:e.key)&&void 0!==t?t:null),c("desc")}},sortKey:n,sortDirection:d,configKey:o.key,config:o.header}),(0,r.jsx)($.Z,{cols:o.header.length}),(0,r.jsx)(em,{configKey:o.key,config:o.body,items:u,groups:m})]})}let ep=(e,t,a,r)=>{let l=0,s=0;if("available"===a){var o,n;let a=BigInt(Math.floor(Number(e.available))),r=BigInt(Math.floor(Number(t.available))),i=Number(u.bM(a,e.decimals)),d=Number(u.bM(r,t.decimals));l=i*(null!==(o=e.price)&&void 0!==o?o:0),s=d*(null!==(n=t.price)&&void 0!==n?n:0)}return("supply-apy"===a&&(l=e.interestRate.apy.deposit,s=t.interestRate.apy.deposit),"borrow-apy"===a&&(l=e.interestRate.apy.borrow,s=t.interestRate.apy.borrow),"wallet-balance"===a&&(l=Number(e.walletBalance)*e.price,s=Number(t.walletBalance)*t.price),"deposit-amount"===a&&(l=Number(u.bM(e.balance.deposit,e.decimals))*e.price,s=Number(u.bM(t.balance.deposit,t.decimals))*t.price),"borrow-amount"===a&&(l=Number(u.bM(e.balance.borrow,e.decimals))*e.price,s=Number(u.bM(t.balance.borrow,t.decimals))*t.price),"asc"===r)?l-s:s-l};var eh=a(61195),eb=a(77063),ef=a(74361),ev=a(81983);let ew=(e,t,a,r)=>{let l=t.find(t=>t.symbol.toLowerCase()===e.symbol.toLowerCase()),s=a.find(t=>t.address.toLowerCase()===e.address.toLowerCase());if(!s||!l)return null;let o=(0,ef.p)(s,l),n=(0,ev.Q)(s,r,t,o);return{...e,price:(null==l?void 0:l.usdValue)||0,market:s.market,incentivesInterestRate:n,interestRate:(0,ev.O)(n,s.interestRate)}};var eg=a(37650);let ej=(e,t,a,r,l)=>{let s={};e.filter(e=>!e.offboarding).forEach(e=>{s[e.name]?s[e.name].push(e):s[e.name]=[e]});let o=(0,ee.TU)().find(e=>e.symbol===eg.W.WETH);if(o){var n;let e=null!==(n=o.name)&&void 0!==n?n:eg.W.WETH;s[e]&&(s[eg.W.ETH]=s[eg.W.ETH]||[],s[e].forEach(e=>{s[eg.W.ETH].push({...e,name:eg.W.ETH,symbol:eg.W.ETH})}))}return Object.keys(s).map(e=>{var o,n,i;let d=s[e],c=d[0].symbol===eg.W.ETH?eg.W.WETH.toLowerCase():d[0].symbol.toLowerCase(),u=r.find(e=>e.symbol.toLowerCase()===c),m=null!==(n=null===(o=a[(0,ee.HX)().findIndex(e=>e.symbol.toLowerCase()===c)])||void 0===o?void 0:o.toString())&&void 0!==n?n:"0";if(!u)throw Error("Price not found for ".concat(c));let x=d.map(e=>{var a,s;let o=null===(s=t.find(t=>t.chainId===(e.originId||t.chainId)))||void 0===s?void 0:null===(a=s.balances.find(t=>t.symbol.toLowerCase()===e.symbol.toLowerCase()))||void 0===a?void 0:a.balance,n=BigInt(m),i=(BigInt(e.market.liquidity)<n?BigInt(e.market.liquidity)>0n?BigInt(e.market.liquidity):0n:n).toString(),d=(0,ef.p)(e,u),c=(0,ev.Q)(e,l,r,d);return{...e,price:u.usdValue,walletBalance:null!=o?o:"0",available:i,incentivesInterestRate:c,interestRate:(0,ev.O)(c,e.interestRate)}}).sort((e,t)=>Number(t.walletBalance)-Number(e.walletBalance)),p=Math.max(...x.map(e=>e.interestRate.apy.deposit)),h=Math.max(...x.map(e=>e.interestRate.apy.borrow)),b=x.map(e=>{var t;return null!==(t=e.originId)&&void 0!==t?t:e.chainId}),f=x.reduce((e,t)=>e+Number(t.walletBalance),0),v=Math.max(...x.map(e=>Number(e.available)));return{...x[0],price:u.usdValue,walletBalance:f.toString(),available:null!==(i=null==v?void 0:v.toString())&&void 0!==i?i:"0",market:{...x[0].market},interestRate:{...x[0].interestRate,apy:{deposit:p,borrow:h}},incentivesInterestRate:x[0].incentivesInterestRate,chains:b,tokens:x}})};var ey=a(72559);let eZ=(e,t)=>({...e,balance:{deposit:(BigInt(e.balance.deposit)+t.addToSuppliedAssetBalanceBigInt-t.subtractFromSuppliedAssetBalanceBigInt).toString(),borrow:(BigInt(e.balance.borrow)+t.addToBorrowedAssetBalanceBigInt-t.subtractFromBorrowedAssetBalanceBigInt).toString()}}),ek=(0,l.createContext)(void 0),eN=()=>{let e=(0,l.useContext)(ek);if(!e)throw Error("usePortfolioAssetsContext must be used within a PortfolioAssetsProvider");return e},eC=e=>{let{children:t}=e,{all:a}=(0,eb.Z)(),{all:s,borrowableAmounts:o}=(0,ey.Z)(),{all:n}=(0,eh.Z)(),{all:i}=(0,b.Z)(),{incentives:d}=(0,p.Z)(),{all:c}=(0,M.Z)(),u=(0,l.useMemo)(()=>a.map(e=>eZ(e,(0,I.j)({token:e,pendingTransactions:c}))).filter(e=>BigInt(e.balance.deposit)>BigInt(0)).map(e=>ew(e,i,n,d)).filter(e=>null!==e),[a,i,n,d,c]),m=(0,l.useMemo)(()=>a.map(e=>eZ(e,(0,I.j)({token:e,pendingTransactions:c}))).filter(e=>BigInt(e.balance.borrow)>BigInt(0)).map(e=>ew(e,i,n,d)).filter(e=>null!==e),[a,i,n,d,c]),x=(0,l.useMemo)(()=>ej(n,s,o,i,d),[n,s,o,i,d]);return(0,r.jsx)(ek.Provider,{value:{deposited:u,borrowed:m,groups:x},children:t})};function eS(){let e=(0,l.useMemo)(()=>m.Cr,[]),{groups:t}=eN(),a=(0,l.useMemo)(()=>t.filter(e=>e.market.borrowable),[t]);return(0,r.jsx)(ex,{config:e,groups:a})}function eB(){return(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(c.Z,{text:"Assets to Borrow",type:"toBorrow"}),(0,r.jsx)(eS,{})]})}function eM(){let e=(0,l.useMemo)(()=>m.Rh,[]),{groups:t}=eN();return(0,r.jsx)(ex,{config:e,groups:t})}function eI(){return(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(c.Z,{text:"Assets to Supply",type:"toSupply"}),(0,r.jsx)(eM,{})]})}var eP=a(40277);let eR=(e,t)=>{let a=0,r=0;return e.forEach(e=>{let l=Number(u.bM(e.balance[t],e.decimals))*e.price,s=Number(e.interestRate.apy[t])*l;r+=l,a+=s}),(a/r).toFixed(2)};function eT(e){return(0,r.jsx)("div",{className:"flex flex-row gap-6 pl-1 pr-3 mt-[6px]",children:e.children})}function eE(e){return(0,r.jsxs)("div",{className:"flex flex-row items-center leading-[13px] justify-center gap-1 border border-white/5 rounded-sm px-[6px] py-0.5 ",children:[(0,r.jsx)(N.Z,{text:e.label}),(0,r.jsx)(g.Z,{text:e.value,size:"sm"})]})}function eF(){let e=(0,l.useMemo)(()=>m.wd,[]),{borrowed:t}=eN(),a=(0,l.useMemo)(()=>t.sort((e,t)=>Number(u.bM(e.balance.borrow,e.decimals))*e.price<Number(u.bM(t.balance.borrow,t.decimals))*t.price?1:-1),[t]);return(0,r.jsx)(ex,{items:a,config:e})}function eA(){let{borrowed:e}=eN(),t=(0,E.T)(e.reduce((e,t)=>e+Number(u.bM(t.balance.borrow,t.decimals))*t.price,0)),a=(0,l.useMemo)(()=>(0,eP.T)(eR(e,"borrow")),[e]);return 0===e.length?null:(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(c.Z,{text:"Borrowed Assets"}),(0,r.jsxs)(eT,{children:[(0,r.jsx)(eE,{label:"Balance",value:t}),(0,r.jsx)(eE,{label:"APY",value:a})]}),(0,r.jsx)(eF,{})]})}function eL(){let e=(0,l.useMemo)(()=>m.MG,[]),{deposited:t}=eN(),a=(0,l.useMemo)(()=>t.sort((e,t)=>Number(u.bM(e.balance.deposit,e.decimals))*e.price<Number(u.bM(t.balance.deposit,t.decimals))*t.price?1:-1),[t]);return(0,r.jsx)(ex,{items:a,config:e})}function eW(){let{deposited:e}=eN(),t=(0,E.T)(e.reduce((e,t)=>e+Number(u.bM(t.balance.deposit,t.decimals))*t.price,0)),a=(0,l.useMemo)(()=>(0,eP.T)(eR(e,"deposit")),[e]);return 0===e.length?null:(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(c.Z,{text:"Supplied Assets"}),(0,r.jsxs)(eT,{children:[(0,r.jsx)(eE,{label:"Balance",value:t}),(0,r.jsx)(eE,{label:"APY",value:a})]}),(0,r.jsx)(eL,{})]})}function eV(){let e=(0,l.useMemo)(()=>"flex flex-col gap-6 relative overflow-hidden",[]);return(0,r.jsx)(eC,{children:(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:e,children:[(0,r.jsx)(eW,{}),(0,r.jsx)(eI,{})]}),(0,r.jsxs)("div",{className:e,children:[(0,r.jsx)(eA,{}),(0,r.jsx)(eB,{})]})]})})}var ez=a(35601);function eO(){let e=(0,ei.useRouter)();return(0,r.jsx)(G.Z,{children:(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center gap-4 min-h-[420px]",children:[(0,r.jsx)(ez.Z,{type:"portfolio"}),(0,r.jsx)(g.Z,{text:"No open positions yet"}),(0,r.jsx)(N.Z,{size:"lg",color:"light-blue",text:"Connect wallet to see an overview of your portfolio"}),(0,r.jsx)(V.Z,{width:201,height:40,fontSize:16,onClick:()=>{e.push(X.gh.Markets)},text:"Explore Markets"})]})})}var eH=a(60394);function eK(){let{isConnected:e}=(0,n.Z)(),{setActiveTab:t,activeTab:a}=(0,o.F)(),[d,c]=(0,l.useState)(!1),{all:u}=(0,p.Z)(),m=(0,l.useMemo)(()=>null==u?void 0:u.some(e=>(null==e?void 0:e.value)>0),[u]);return((0,l.useEffect)(()=>{c(!0)},[]),d)?e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(eH.Z,{className:"my-4",children:[(0,r.jsx)(i.Z,{isActive:"overview"===a,onClick:()=>t("overview"),text:"Positions Overview"}),(0,r.jsxs)("div",{className:"relative",children:[m&&(0,r.jsxs)("div",{children:[(0,r.jsx)(s.E.span,{className:"absolute top-2 shadow-md left-4 w-2 h-2 rounded-full bg-font-full opacity-40",animate:{scale:[1,1.75,1]},transition:{duration:2,repeat:1/0,repeatType:"loop"}}),(0,r.jsx)("span",{className:"absolute top-2 shadow-md left-4 w-2 h-2 rounded-full bg-font-full opacity-80"})]}),(0,r.jsx)(i.Z,{isActive:"rewards"===a,onClick:()=>t("rewards"),text:"My Rewards"})]})]}),(0,r.jsxs)(s.E.div,{className:"flex flex-col",initial:{opacity:0},animate:{opacity:1},transition:{duration:.25},children:["overview"===a&&(0,r.jsx)(eV,{}),"rewards"===a&&(0,r.jsx)(ea,{})]})]}):(0,r.jsx)("nav",{className:"mt-4",children:(0,r.jsx)(eO,{})}):(0,r.jsx)(eY,{})}let eY=()=>{let e=(0,l.useMemo)(()=>"flex flex-col gap-6 relative overflow-hidden",[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex gap-3 my-4",children:[(0,r.jsx)(i.Z,{isActive:!0,onClick:()=>{},text:"Positions Overview"}),(0,r.jsx)(i.Z,{isActive:!1,onClick:()=>{},text:"My Rewards"})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6 opacity-10",children:[(0,r.jsxs)("div",{className:e,children:[(0,r.jsx)("div",{className:"skeleton-box w-full h-[500px] rounded-xl shadow-lg mt-2 mb-1 "}),(0,r.jsx)("div",{className:"skeleton-box w-full h-[500px] rounded-xl shadow-lg mt-2 mb-1 "})]}),(0,r.jsxs)("div",{className:e,children:[(0,r.jsx)("div",{className:"skeleton-box w-full h-[500px] rounded-xl shadow-lg mt-2 mb-1 "}),(0,r.jsx)("div",{className:"skeleton-box w-full h-[500px] rounded-xl shadow-lg mt-2 mb-1 "})]})]})]})}},31298:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var r=a(57437),l=a(2265),s=a(66648),o=a(57818),n=a(87726),i=a(62167);let d=(0,o.default)(()=>Promise.all([a.e(400),a.e(649)]).then(a.t.bind(a,59522,23)),{loadableGenerated:{webpack:()=>[59522]},ssr:!1});function c(e){let t=(0,l.useMemo)(()=>"/images/cross-chain-pool.svg",[]);return(0,r.jsx)(d,{arrowColor:"black",content:(0,r.jsx)(i.Z,{type:"cctp"}),children:(0,r.jsxs)("div",{className:"flex gap-1 items-center justify-center flex-nowrap",children:[(0,r.jsx)(n.Z,{text:"CCTP",size:"sm"}),(0,r.jsx)(s.default,{src:t,alt:"Cross Chain Pool",width:16,height:16})]})})}},87439:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(57437),l=a(87726),s=a(73399),o=a(40277);function n(e){let{value:t,isMaxValue:a,color:n}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-nowrap items-center space-x-1.5",children:[a?(0,r.jsx)(l.Z,{size:"sm",text:"Up to:",italic:!0}):null,(0,r.jsx)("div",{className:" w-10 text-right",children:(0,r.jsx)(s.Z,{size:"sm",text:(0,o.T)(t),color:t?n:"default"})})]})})}},79811:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var r=a(57437),l=a(60339),s=a(2265),o=a(53739),n=a(87726);function i(e){let t=(0,s.useMemo)(()=>(0,l.E)(e.chainId),[e.chainId]);return(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"inline-flex px-[6px] py-0.5 gap-1 bg-white-opacity-03 rounded",children:[(0,r.jsx)(n.Z,{size:"sm",text:"On"}),(0,r.jsx)(o.Z,{chainId:t.id,width:12}),(0,r.jsx)(n.Z,{size:"sm",text:t.name})]})})}},44942:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var r=a(57437);function l(e){return(0,r.jsx)("tbody",{children:(0,r.jsx)("tr",{className:"h-3",children:(0,r.jsx)("td",{colSpan:e.cols,className:"border border-transparent"})})})}},64142:function(e,t,a){"use strict";a.d(t,{F:function(){return d},PortfolioPageProvider:function(){return c}});var r=a(57437),l=a(2265),s=a(57570),o=a(16463),n=a(81153);let i=(0,l.createContext)(void 0),d=()=>{let e=(0,l.useContext)(i);if(!e)throw Error("usePortfolioPageContext must be used within a PortfolioPageProvider");return e},c=e=>{let{children:t}=e,a=(0,o.useSearchParams)(),d=(0,o.useRouter)(),c=(0,n.Z)(e=>e.items.some(e=>e.name===s.t.AssetManager&&e.isOpen)),u=(0,l.useMemo)(()=>"rewards"===(null==a?void 0:a.get("activeTab"))?"rewards":"overview",[a]);return(0,l.useEffect)(()=>{if(!(null==a?void 0:a.get("activeTab"))){let e=new URLSearchParams(null==a?void 0:a.toString());e.set("activeTab","overview"),d.replace("".concat(window.location.pathname,"?").concat(e.toString()),{scroll:!1})}},[a,d]),(0,l.useEffect)(()=>{if(!c){let e=new URLSearchParams(null==a?void 0:a.toString()),t=e.get("activeTab")||"overview";e.forEach((t,a)=>{"activeTab"!==a&&e.delete(a)}),e.set("activeTab",t),d.replace("".concat(window.location.pathname,"?").concat(e.toString()),{scroll:!1})}},[c,a,d]),(0,r.jsx)(i.Provider,{value:{activeTab:u,setActiveTab:e=>{let t=new URLSearchParams(null==a?void 0:a.toString());t.set("activeTab",e);let r="".concat(window.location.pathname,"?").concat(t.toString());d.push(r,{scroll:!1})}},children:t})}},26032:function(e,t,a){"use strict";a.d(t,{Vc:function(){return n},bs:function(){return o},hE:function(){return s}});var r=a(38472),l=a(61602);let s=(e,t)=>{if(t<BigInt(0)||e<BigInt(0))return"0";if(e===BigInt(0)||e!==BigInt(0)&&t===BigInt(0))return"Infinity";let a=Number(BigInt(100)*e/t)/100;return a>100?"> 100":a.toString()},o=e=>{if("Infinity"===e||"> 100"===e)return"full";let t=Number(e);return t>3?"full":t<3&&t>=2.75?"cozy":t<2.75&&t>=2.5?"safe":t<2.5&&t>=1.5?"risky":t<1.5&&t>=1.25?"sketchy":"danger"},n=async(e,t,a)=>{try{return(await r.Z.get(l.b.Syno.Blockchain.CalculateEffectiveNotionals.replace("{address}",e).replace("{deposited}",t.toString()).replace("{borrowed}",a.toString()))).data}catch(e){return console.error("Failed to calculate effective notionals:",e),{deposited:{$bigint:"0"},borrowed:{$bigint:"0"}}}}},50209:function(e,t,a){"use strict";a.d(t,{j:function(){return s}});var r=a(71581),l=a(93083);let s=e=>{let{token:t,pendingTransactions:a}=e,s=a.filter(e=>e.token.address.toLowerCase()===t.address.toLowerCase()).filter(e=>e.chainId===t.originId||e.chainId===t.chainId),o=s.filter(e=>e.type===l.i.Supply).reduce((e,t)=>e+Number(t.amount),0),n=r.vz(o.toString(),t.decimals),i=s.filter(e=>e.type===l.i.Withdraw).reduce((e,t)=>e+Number(t.amount),0),d=r.vz(i.toString(),t.decimals),c=s.filter(e=>e.type===l.i.Borrow||e.type===l.i.SendingBorrow).reduce((e,t)=>e+Number(t.amount),0),u=r.vz(c.toString(),t.decimals),m=s.filter(e=>e.type===l.i.Repay).reduce((e,t)=>e+Number(t.amount),0),x=r.vz(m.toString(),t.decimals);return{hasPendingTx:0!==o||0!==i||0!==c||0!==m,tokenPendingTransactions:s,addToSuppliedAssetBalance:o,addToSuppliedAssetBalanceBigInt:n,subtractFromSuppliedAssetBalance:i,subtractFromSuppliedAssetBalanceBigInt:d,addToBorrowedAssetBalance:c,addToBorrowedAssetBalanceBigInt:u,subtractFromBorrowedAssetBalance:m,subtractFromBorrowedAssetBalanceBigInt:x}}}},function(e){e.O(0,[764,99,885,114,263,666,495,321,26,971,23,744],function(){return e(e.s=5771)}),_N_E=e.O()}]);